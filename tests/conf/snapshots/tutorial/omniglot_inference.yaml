benchmarks:
  default_all_noise_params:
    features:
      pose_vectors: 2
      hsv: 0.1
      principal_curvatures_log: 0.1
      pose_fully_defined: 0.01
    location: 0.002
  default_sensor_features:
  - pose_vectors
  - pose_fully_defined
  - on_object
  - hsv
  - principal_curvatures_log
  min_eval_steps: 20
  pretrained_dir: ${path.expanduser:${oc.env:MONTY_MODELS}/pretrained_ycb_v11}
  rotations_all_count: 14
  rotations_all:
  - - 0
    - 0
    - 0
  - - 0
    - 90
    - 0
  - - 0
    - 180
    - 0
  - - 0
    - 270
    - 0
  - - 90
    - 0
    - 0
  - - 90
    - 180
    - 0
  - - 35
    - 45
    - 0
  - - 325
    - 45
    - 0
  - - 35
    - 315
    - 0
  - - 325
    - 315
    - 0
  - - 35
    - 135
    - 0
  - - 325
    - 135
    - 0
  - - 35
    - 225
    - 0
  - - 325
    - 225
    - 0
  rotations_3_count: 3
  rotations_3:
  - - 0
    - 0
    - 0
  - - 0
    - 90
    - 0
  - - 0
    - 180
    - 0
experiment:
  config:
    do_train: false
    do_eval: true
    show_sensor_output: false
    max_train_steps: 1000
    max_eval_steps: 500
    max_total_steps: 6000
    n_train_epochs: 3
    n_eval_epochs: 1
    model_name_or_path: ${path.expanduser:${oc.env:MONTY_MODELS}/omniglot/omniglot_training/pretrained/}
    min_lms_match: 1
    seed: 42
    supervised_lm_ids: []
    logging:
      monty_log_level: DETAILED
      monty_handlers:
      - ${monty.class:tbp.monty.frameworks.loggers.monty_handlers.BasicCSVStatsHandler}
      - ${monty.class:tbp.monty.frameworks.loggers.monty_handlers.DetailedJSONHandler}
      - ${monty.class:tbp.monty.frameworks.loggers.monty_handlers.ReproduceEpisodeHandler}
      wandb_handlers: []
      python_log_level: INFO
      python_log_to_file: true
      python_log_to_stderr: true
      output_dir: ${path.expanduser:${oc.env:MONTY_LOGS}/projects/monty_runs/}
      run_name: omniglot_inference
      resume_wandb_run: false
      wandb_id:
        _target_: wandb.util.generate_id
      wandb_group: debugging
      log_parallel_wandb: false
    monty_config:
      motor_system_config:
        motor_system_args:
          policy_args:
            file_name: null
            good_view_percentage: 0.5
            desired_object_distance: 0.03
            use_goal_state_driven_actions: false
            switch_frequency: 1.0
            min_perc_on_obj: 0.25
            agent_id: ${monty.agent_id:agent_id_0}
            action_sampler_args:
              actions:
              - ${monty.class:tbp.monty.frameworks.actions.actions.LookUp}
              - ${monty.class:tbp.monty.frameworks.actions.actions.LookDown}
              - ${monty.class:tbp.monty.frameworks.actions.actions.TurnLeft}
              - ${monty.class:tbp.monty.frameworks.actions.actions.TurnRight}
              - ${monty.class:tbp.monty.frameworks.actions.actions.SetAgentPose}
              - ${monty.class:tbp.monty.frameworks.actions.actions.SetSensorRotation}
              rotation_degrees: 5.0
            action_sampler_class: ${monty.class:tbp.monty.frameworks.actions.action_samplers.ConstantSampler}
          policy_class: ${monty.class:tbp.monty.frameworks.models.motor_policies.InformedPolicy}
        motor_system_class: ${monty.class:tbp.monty.frameworks.models.motor_system.MotorSystem}
      monty_args:
        num_exploratory_steps: 1000
        min_eval_steps: 3
        min_train_steps: 3
        max_total_steps: 2500
      monty_class: ${monty.class:tbp.monty.frameworks.models.evidence_matching.model.MontyForEvidenceGraphMatching}
      learning_module_configs:
        learning_module_0:
          learning_module_class: ${monty.class:tbp.monty.frameworks.models.evidence_matching.learning_module.EvidenceGraphLM}
          learning_module_args:
            max_match_distance: 5
            tolerances:
              patch:
                principal_curvatures_log: ${np.ones:2}
                pose_vectors: ${np.array:[45, 45, 45]}
            feature_weights:
              patch:
                pose_vectors:
                - 0
                - 1
                - 0
            hypotheses_updater_args:
              initial_possible_poses:
              - - 0
                - 0
                - 0
      sensor_module_configs:
        sensor_module_0:
          sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
          sensor_module_args:
            sensor_module_id: patch
            features:
            - pose_vectors
            - pose_fully_defined
            - on_object
            - principal_curvatures_log
            save_raw_obs: false
            pc1_is_pc2_threshold: 1
        sensor_module_1:
          sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.Probe}
          sensor_module_args:
            sensor_module_id: view_finder
            save_raw_obs: false
      sm_to_agent_dict:
        patch: ${monty.agent_id:agent_id_0}
        view_finder: ${monty.agent_id:agent_id_0}
      sm_to_lm_matrix:
      - - 0
      lm_to_lm_matrix: null
      lm_to_lm_vote_matrix: null
    env_interface_config:
      env_init_func: ${monty.class:tbp.monty.frameworks.environments.two_d_data.OmniglotEnvironment}
      env_init_args: {}
      transform:
      - _target_: tbp.monty.frameworks.environment_utils.transforms.DepthTo3DLocations
        agent_id: ${monty.agent_id:agent_id_0}
        sensor_ids:
        - patch
        resolutions: ${np.array:[[10, 10]]}
        world_coord: true
        zooms: 1
        get_all_points: true
        use_semantic_sensor: false
        depth_clip_sensors:
        - 0
        clip_value: 1.1
    eval_env_interface_args:
      alphabets:
      - 0
      - 0
      - 0
      - 1
      - 1
      - 1
      characters:
      - 1
      - 2
      - 3
      - 1
      - 2
      - 3
      versions:
      - 1
      - 1
      - 1
      - 1
      - 1
      - 1
    eval_env_interface_class: ${monty.class:tbp.monty.frameworks.environments.embodied_data.OmniglotEnvironmentInterface}
  _target_: tbp.monty.frameworks.experiments.object_recognition_experiments.MontyObjectRecognitionExperiment
episodes: all
num_parallel: 16
print_cfg: false
quiet_habitat_logs: true
